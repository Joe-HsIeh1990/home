(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-05573a61"],{"7f96":function(t,a,s){"use strict";var e=function(){var t=this,a=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"modal fade",attrs:{id:"check",tabindex:"-1",role:"dialog","aria-labelledby":"checkCenterTitle","aria-hidden":"true","data-backdrop":"static"}},[s("div",{staticClass:"modal-dialog modal-dialog-centered",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-body leave-modal"},[s("p",[t._v("您的訂單尚未付款，確定要離開此頁?")]),s("div",{staticClass:"text-right"},[s("button",{staticClass:"mr-2 btn btn-danger determin",attrs:{type:"button","data-dismiss":"modal"}},[t._v("確定")]),s("button",{staticClass:"cancel btn btn-dark",attrs:{type:"button","data-dismiss":"modal"}},[t._v("取消")])])])])])])}],i={},d=i,l=s("2877"),n=Object(l["a"])(d,e,r,!1,null,null,null);a["a"]=n.exports},ea08:function(t,a,s){"use strict";s.r(a);var e=function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"bg-white"},[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(a){t.isLoading=a}}}),s("div",{staticClass:"py-5 container CustomPay"},[s("h1",{staticClass:"text-center mb-4 text-secondary"},[t._v("訂單付款")]),s("div",{staticClass:"row mb-5"},[s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"alert alert-success rounded-pill text-center",attrs:{role:"alert"}},[t._v("1.填寫訂單"),s("font-awesome-icon",{staticClass:"ml-2",attrs:{icon:"check"}})],1)]),t._m(0),t._m(1)]),s("div",{staticClass:"CustomPay-message mb-5"},[s("h2",{staticClass:"mb-0 py-2 pl-3 h4 border bg-first"},[t._v("訂單訊息")]),s("div",{staticClass:"subscriber px-0"},[s("div",{staticClass:"py-2 px-3 CustomPay-list border"},[s("span",{staticClass:"mr-3 data"},[t._v("姓名:")]),s("span",[t._v(t._s(t.order.user.name))])]),s("div",{staticClass:"py-2 px-3 CustomPay-list border"},[s("span",{staticClass:"mr-3 data"},[t._v("Email:")]),s("span",[t._v(t._s(t.order.user.email))])]),s("div",{staticClass:"py-2 px-3 CustomPay-list border"},[s("span",{staticClass:"mr-3 data"},[t._v("手機號碼:")]),s("span",[t._v(t._s(t.order.user.tel))])]),s("div",{staticClass:"py-2 px-3 CustomPay-list border"},[s("span",{staticClass:"mr-3 data"},[t._v("地址:")]),s("span",[t._v(t._s(t.order.user.address))])]),s("div",{staticClass:"py-2 px-3 CustomPay-list border"},[s("span",{staticClass:"mr-3 data"},[t._v("留言備註:")]),s("span",[t._v(t._s(t.order.message))])])])]),s("div",{staticClass:"CustomPay-data mb-5 border"},[s("h2",{staticClass:"mb-0 py-2 pl-3 h4 bg-first"},[t._v("訂單資料")]),s("div",{staticClass:"subscriber"},[s("div",{staticClass:"py-2 px-3 CustomPay-list border"},[s("span",{staticClass:"mr-3 data"},[t._v("訂單成立時間:")]),s("span",[t._v(t._s(t._f("timecurrency")(t.order.create_at)))])]),s("div",{staticClass:"py-2 px-3 CustomPay-list border"},[s("span",{staticClass:"mr-3 data"},[t._v("訂單編號:")]),s("span",[t._v(t._s(t.orderId))])]),s("div",{staticClass:"py-2 px-3 CustomPay-list border"},[s("span",{staticClass:"mr-3 data"},[t._v("總金額:")]),s("span",{staticClass:"total"},[t._v(t._s(t._f("currency")(t.order.total)))])])])]),s("div",{staticClass:"CustomPay-pay border mb-3"},[s("h2",{staticClass:"mb-0 py-2 pl-3 h4 border bg-danger text-white"},[t._v("信用卡資訊")]),s("div",{staticClass:"creditcard px-3 pt-3"},[s("ValidationObserver",{scopedSlots:t._u([{key:"default",fn:function(a){var e=a.invalid;return[s("form",{on:{submit:function(a){return a.preventDefault(),t.payOrder(a)}}},[s("div",{staticClass:"py-2 CustomPay-card d-flex align-items-center"},[s("label",{attrs:{for:"card-num"}},[t._v("信用卡卡號:")]),s("ValidationProvider",{attrs:{name:"信用卡ID",rules:"required|cardnum"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors,r=a.classes;return[s("div",{class:r},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.pay.id,expression:"pay.id"}],staticClass:"form-lists",attrs:{type:"text",id:"card-num",name:"card-num",placeholder:"請輸入16位信用卡卡號"},domProps:{value:t.pay.id},on:{input:function(a){a.target.composing||t.$set(t.pay,"id",a.target.value)}}}),s("span",{staticClass:"ml-md-2"},[t._v(t._s(e[0]))])])]}}],null,!0)})],1),s("div",{staticClass:"py-2 CustomPay-card d-flex align-items-center"},[s("label",{attrs:{for:"card-date"}},[t._v("有效期限:")]),s("ValidationProvider",{attrs:{name:"有效期限",rules:"required|carddate"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors,r=a.classes;return[s("div",{class:r},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.pay.date,expression:"pay.date"}],staticClass:"form-lists",attrs:{type:"text",id:"card-date",name:"card-date",placeholder:"例: 0320"},domProps:{value:t.pay.date},on:{input:function(a){a.target.composing||t.$set(t.pay,"date",a.target.value)}}}),s("span",{staticClass:"ml-md-2"},[t._v(t._s(e[0]))])])]}}],null,!0)})],1),s("div",{staticClass:"py-2 form-group CustomPay-card d-flex align-items-center"},[s("label",{attrs:{for:"card-pay"}},[t._v("背面安全碼:")]),s("ValidationProvider",{attrs:{name:"背面安全碼",rules:"required|pay"},scopedSlots:t._u([{key:"default",fn:function(a){var e=a.errors,r=a.classes;return[s("div",{class:r},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.pay.num,expression:"pay.num"}],staticClass:"form-lists",attrs:{type:"text",id:"card-pay",name:"card-pay",placeholder:"例: 540"},domProps:{value:t.pay.num},on:{input:function(a){a.target.composing||t.$set(t.pay,"num",a.target.value)}}}),s("span",{staticClass:"ml-md-2"},[t._v(t._s(e[0]))])])]}}],null,!0)})],1),s("div",{staticClass:"text-right py-2 my-3"},[s("button",{staticClass:"btn btn-danger",attrs:{type:"submit",disabled:e}},[t._v("確認付款")])])])]}}])})],1)])]),s("check")],1)},r=[function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"alert alert-success rounded-pill text-center",attrs:{role:"alert"}},[t._v("2.確認付款")])])},function(){var t=this,a=t.$createElement,s=t._self._c||a;return s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"alert bg-five rounded-pill text-center",attrs:{role:"alert"}},[t._v("3.訂單完成")])])}],i=s("5530"),d=s("2f62"),l=s("7bb1"),n=s("1157"),c=s.n(n),o=s("7f96"),u={name:"CustomPay",components:{ValidationObserver:l["a"],check:o["a"]},data:function(){return{orderId:"",leave:!1,pay:{id:"",date:"",num:""}}},methods:{payOrder:function(){var t=this;this.$store.dispatch("OrderModules/payOrder",this.orderId).then((function(){t.leave=!0}))}},computed:Object(i["a"])(Object(i["a"])({},Object(d["c"])(["isLoading"])),Object(d["c"])("OrderModules",["order"])),created:function(){this.orderId=this.$route.params.orderId,this.$store.dispatch("OrderModules/getOrder",this.orderId)},beforeRouteLeave:function(t,a,s){var e=this;e.leave?s():(c()("#check").modal("show"),c()(".determin").on("click",(function(){s()})),c()(".cancel").on("click",(function(){s(!1)})))}},m=u,p=s("2877"),v=Object(p["a"])(m,e,r,!1,null,null,null);a["default"]=v.exports}}]);
//# sourceMappingURL=chunk-05573a61.739e83db.js.map